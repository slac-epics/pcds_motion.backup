# Schneider Electric MDrivePlus Motor Protocol
#
InTerminator  =  CR;
OutTerminator =  CR LF;
ReplyTimeout  =  800;
ReadTimeout   =  100;
WriteTimeout  =  100;
ExtraInput    =  Ignore;

# MDrivePlus MCode commands (See MCode Manual for descriptions)

## Read Only
GET_VR       { out "1PR VR";        in "%s";        wait 25; }
GET_MV       { out "1PR MV";        in "%s";        wait 25; }
GET_I1       { out "1PR I1";        in "%s";        wait 25; }
GET_I2       { out "1PR I2";        in "%s";        wait 25; }

GET_I3       { out "1PR I3";        in "%s";        wait 25; }

GET_SN       { out "1PR SN";        in "%s";        wait 25; }
GET_ST       { out "1PR SM";        in "%s";        wait 25; }
GET_IT       { out "1PR IT";        in "%s";        wait 25; }
GET_PN       { out "1PR PN";        in "%s";        wait 25; }

## Read/Write
GET_BD       { out "1PR BD";        in "%s";        wait 25; }
SET_BD       { out "1BD %s";                        wait 25; }

GET_S1       { out "1PR S1";        in "%[, 0-9]";  wait 25; }
SET_S1       { out "1S1 %s";                        wait 25; }

GET_S2       { out "1PR S2";        in "%[, 0-9]";  wait 25; }
SET_S2       { out "1S2 %s";                        wait 25; }

GET_S3       { out "1PR S3";        in "%[, 0-9]";  wait 25; }
SET_S3       { out "1S3 %s";                        wait 25; }

GET_S4       { out "1PR S4";        in "%[, 0-9]";  wait 25; }
SET_S4       { out "1S4 %s";                        wait 25; }

GET_SF       { out "1PR SF";        in "%s";        wait 25; }
SET_SF       { out "1SF %s";                        wait 25; }

GET_SM       { out "1PR SM";        in "%s";        wait 25; }
SET_SM       { out "1SM %s";                        wait 25; }


GET_P        { out "1PR P";         in "%s";        wait 25; }
SET_P        { out "1P %s";                         wait 25; }

GET_PY       { out "1PR PY";        in "%s";        wait 25; }
SET_PY       { out "1PY %s";                        wait 25; }

GET_A        { out "1PR A";         in "%s";        wait 25; }
SET_A        { out "1A %s";                         wait 25; }

GET_D        { out "1PR D";         in "%s";        wait 25; }
SET_D        { out "1D %s";                         wait 25; }

GET_DN       { out "1PR DN";        in "%s";        wait 25; }
SET_DN       { out "1DN %s";                        wait 25; }

GET_DB       { out "1PR DB";        in "%s";        wait 25; }
SET_DB       { out "1DB %s";                        wait 25; }

GET_MT       { out "1PR MT";        in "%s";        wait 25; }
SET_MT       { out "1MT %s";                        wait 25; }

GET_VI       { out "1PR VI";        in "%s";        wait 25; }
SET_VI       { out "1VI %s";                        wait 25; }

GET_VM       { out "1PR VM";        in "%s";        wait 25; }
SET_VM       { out "1VM %s";                        wait 25; }

GET_LM       { out "1PR LM";        in "%s";        wait 25; }
SET_LM       { out "1LM %s";                        wait 25; }

GET_MS       { out "1PR MS";        in "%s";        wait 25; }
SET_MS       { out "1MS %s";                        wait 25; }

GET_EE       { out "1PR EE";        in "%s";        wait 25; }
SET_EE       { out "1EE %s";                        wait 25; }

GET_EL       { out "1PR EL";        in "%s";        wait 25; }
SET_EL       { out "1EL %s";                        wait 25; }

GET_EM       { out "1PR EM";        in "%s";        wait 25; }
SET_EM       { out "1EM %s";                        wait 25; }

GET_ER       { out "1PR ER";        in "%s";        wait 25; }
CLEAR_ER     { out "1ER=0";                         wait 25; }

GET_HC       { out "1PR HC";        in "%s";        wait 25; }
SET_HC       { out "1HC %s";                        wait 25; }

GET_RC       { out "1PR RC";        in "%s";        wait 25; }
SET_RC       { out "1RC %s";                        wait 25; }

GET_C1       { out "1PR C1";        in "%s";        wait 25; }
SET_C1       { out "1C1 %s";                        wait 25; }

GET_C2       { out "1PR C2";        in "%s";        wait 25; }
SET_C2       { out "1C2 %s";                        wait 25; }

GET_WT       { out "1PR WT";        in "%s";        wait 25; }
SET_WT       { out "1WT %s";                        wait 25; }

SAVE         { out "1S";                            wait 25; }

STOP         { out "\e";                            wait 25; }
STOP_DCL     { out "1SL=0";                         wait 25; }

ZERO_POS     { out "1P=0";                          wait 25; }

GET_CUSTOM   { out "%s";            in "%s";        wait 25; }



## Useful
#GET_AL       { out "1PR AL";        in "%s";        wait 25; }

GET_D1       { out "1PR D1";        in "%s";        wait 25; }
GET_D2       { out "1PR D2";        in "%s";        wait 25; }
GET_D3       { out "1PR D3";        in "%s";        wait 25; }
GET_D4       { out "1PR D4";        in "%s";        wait 25; }
GET_DE       { out "1PR DE";        in "%s";        wait 25; }
GET_EF       { out "1PR EF";        in "%s";        wait 25; }
GET_HT       { out "1PR HT";        in "%s";        wait 25; }
GET_I4       { out "1PR I2";        in "%s";        wait 25; }
GET_IN       { out "1PR IN";        in "%s";        wait 25; }
GET_MP       { out "1PR MP";        in "%s";        wait 25; }
GET_PM       { out "1PR PM";        in "%s";        wait 25; }
GET_R1       { out "1PR R1";        in "%s";        wait 25; }
GET_R2       { out "1PR R2";        in "%s";        wait 25; }
GET_R3       { out "1PR R3";        in "%s";        wait 25; }
GET_R4       { out "1PR R4";        in "%s";        wait 25; }
GET_UV       { out "1PR UV";        in "%s";        wait 25; }


MOV_MR       { out "1MR %s";                        wait 25; }
MOV_MA       { out "1MA %s";                        wait 25; }
MOV_HI       { out "1HI %s";                        wait 25; }
MOV_HM       { out "1HM %s";                        wait 25; }

#SET_MT       { out "1MT=%";        in "%s";        wait 25; }



### Investigate as possible way to have run and set mode. When this is 1, only numbers sent for moves
#SET_NE       { out "NE=%";        in "%s";        wait 25; }

